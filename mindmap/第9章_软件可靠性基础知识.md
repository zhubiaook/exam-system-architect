# 第9章 软件可靠性基础知识

- **9.1 软件可靠性基本概念**
  - **9.1.1 定义**
    - **IEEE/GB/T-11457定义**：在规定条件下，在规定时间内，软件不引起系统失效的概率
    - **4个要素**：规定条件 (运行环境), 规定时间 (运行/执行时间), 规定功能, 该能力 (概率)
    - **与硬件可靠性的区别**
      - **复杂性**：软件失效源于设计错误 (逻辑复杂)，硬件源于物理退化
      - **无物理退化**：软件不会磨损，缺陷是固有的
      - **唯一性**：软件复制不改变性质
      - **版本更新快**：受需求变更影响大
  - **9.1.2 定量描述**
    - **规定时间**：自然时间 (日历)、运行时间、执行时间 (CPU时间，最准确)
    - **可靠度 R(t)**：t时刻不失效的概率，R(t) = 1 - F(t)
    - **失效强度 f(t)**：单位时间失效概率 (边缘分布)
    - **MTTF (平均失效前时间)**：失效前平均正常运行时间 (不可修复系统寿命)
    - **MTTR (平均恢复前时间)**：从失效到修复的时间 (易恢复性)
    - **MTBF (平均故障间隔时间)**：MTBF = MTTF + MTTR
  - **9.1.3 可靠性目标**
    - **失效严重程度类**：按成本影响 (1-5级)、按系统能力影响 (1-4级)
    - **可靠性指标**：结合失效强度和严重程度设定 (如99.9999%对应10^-6失效强度)

- **9.2 软件可靠性建模**
  - **9.2.1 影响因素**
    - **运行剖面** (环境/输入)、**软件规模** (代码行数)、**内部结构** (复杂度)、**开发方法** (结构化vs非结构化)、**可靠性投入**
  - **9.2.2 模型要素**
    - **模型假设** (代表性、独立性、相同性)、**性能度量**、**参数估计**、**数据要求**
  - **9.2.3 模型分类 (10类)**
    - **种子法模型**：播种错误，捕获-再捕获估算残留错误
    - **失效率类模型**：Jelinski-Moranda, Schick-Wolverton (研究失效率变化)
    - **曲线拟合类模型**：回归分析
    - **可靠性增长模型**：Duane, Weibull (预测改进过程)
    - **程序结构分析模型**：马尔可夫结构 (模块间转换)
    - **输入域分类模型**：Nelson (基于输入样本)
    - **执行路径分析模型**：Shooman
    - **非齐次泊松过程 (NHPP) 模型**：Musa指数, Goel-Okumoto (单位时间失效为泊松变量)
    - **马尔可夫过程模型**：线性死亡模型
    - **贝叶斯模型**：利用先验分布和当前数据

- **9.3 软件可靠性管理**
  - **全过程管理**：需求 (定目标)、概设 (定度量/设计)、详设 (预测)、编码 (排错)、测试 (建模/评价)、实施 (收集数据)

- **9.4 软件可靠性设计 (重点)**
  - **9.4.1 容错设计技术** (针对严重失效)
    - **恢复块设计 (Recovery Block)**：动态冗余，主块失效切换备用块 (功能相同，设计不同)
    - **N版本程序设计 (N-Version Programming)**：多版本并行运行，表决机制 (需保证设计独立性/不相关性)
    - **冗余设计**：异构备份，非简单复制
  - **9.4.2 检错技术** (针对一般要求)
    - **要素**：检测对象、检测延时、实现方式 (判断结果/时间/标志)、处理方式 (报警/停机)
  - **9.4.3 降低复杂度设计**
    - 模块化、结构化，控制复杂度阈值
  - **9.4.4 系统配置技术**
    - **双机热备**：Active/Standby (主备), 互备, 双工 (负载均衡)
    - **服务器集群**：多台独立服务器协同，单一系统映像，自动接管

- **9.5 软件可靠性测试**
  - **9.5.1 概述**
    - **目的**：发现缺陷、提供评估数据、确认目标达成
    - **特点**：基于运行剖面 (User Profile) 的统计测试
  - **9.5.2 定义运行剖面**
    - **方法**：马尔可夫链建模用户行为
    - **分层**：用户级 (谁用)、用法级 (怎么用)
    - **数据来源**：现有数据、用户访谈、原型分析
  - **9.5.3 测试用例设计**
    - 基于运行剖面分配概率
    - **特殊用例**：强化输入 (恶劣条件)、边界测试、关键功能 (甚至补充非统计测试)
  - **9.5.4 实施与数据收集**
    - **数据类型**：失效时间、失效间隔时间、分组失效数
    - **受控环境**：版本一致性

- **9.6 软件可靠性评价**
  - **过程**：选择模型 -> 收集数据 -> 评估预测
  - **模型选择原则**：假设适用性、预测能力、输出满足需求、简便性
  - **数据收集问题**：规范不统一、连续性差、工具缺乏、完整性/准确性不足
  - **评估内容**：当前可靠度、MTTF、是否达标、需追加成本/时间
