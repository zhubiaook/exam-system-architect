# 第1章 绪论

## 1.1 系统架构概述
### 1.1.1 系统架构的定义及发展历程
- **定义**
    - **IEEE 1471-2000定义**
        - 架构是体现在组件中的一个系统的基本组织、它们彼此的关系与环境的关系及指导它的设计和发展的原则
    - **通俗定义**
        - 系统的一种整体的高层次的结构表示
        - 系统的骨架和根基
        - 刻画系统整体抽象结构的一种手段
    - **架构设计的作用**
        - 解决相对复杂的需求分析问题
        - 解决非功能属性在系统占据重要位置的设计问题
        - 解决生命周期长、扩展性需求高的系统整体结构问题
        - 解决系统基于组件需要的集成问题
        - 解决业务流程再造难的问题
- **发展历程**
    - **起源**
        - 20世纪60年代中期“软件危机”
        - NATO会议提出“软件工程”
    - **发展阶段**
        - **基础研究阶段 (1968—1994年)**
            - Garlan & Shaw: 组件+连接件+风格
            - 模块化开发方法 (分而治之)
                - 规则: 高内聚、低耦合、模块大小适度、深度适中、接口简单、复用
            - 面向对象服务架构 (SOA) 思想萌芽
        - **概念体系和核心技术形成阶段 (1999—2000年)**
            - Perry & Wolf (1992): {elements, forms, rationale} = software
            - IEEE 1471-2000标准发布: 架构形式化标准
            - 软件组件化技术
        - **理论体系完善与发展阶段 (1996年至今)**
            - 研究方向: 描述与表示、分析设计与测试、发现演化与重用、基于架构的开发、风格、动态架构
            - 架构描述语言 (ADL): C2SADL, Wright, ACME, Rapide, xADL等
            - 架构分析方法: SAAM, ATAM, CBAM等
        - **普及应用阶段 (2000年至今)**
            - 软件产品线
            - 架构在生命周期各阶段的应用 (需求、设计、实现、维护)

### 1.1.2 软件架构的常用分类及建模方法
- **常用分类**
    - **分层架构 (Layered Architecture)**
        - 最常见，事实标准
        - 典型四层: 表现层, 业务层, 持久层, 数据库层
        - 特点: 层间单向依赖，通过接口通信
    - **事件驱动架构 (Event-driven Architecture)**
        - 组件: 事件队列, 分发器, 事件通道, 事件处理器
        - 适用于异步系统
    - **微核架构 (Microkernel / Plug-in Architecture)**
        - 内核 + 插件
        - 内核小且稳定，插件独立且易扩展
    - **微服务架构 (Microservices Architecture)**
        - SOA的升级
        - 独立部署单元，分布式，解耦
        - 实现模式: RESTful API, RESTful 应用, 集中消息
    - **云架构 (Cloud Architecture)**
        - 解决扩展性和并发问题
        - 处理单元 (Processing Unit) + 虚拟中间件 (Virtualized Middleware)
        - 中间件: Messaging Grid, Data Grid, Processing Grid, Deployment Manager
- **建模方法**
    - **结构模型**
        - 以构件、连接件刻画结构
    - **框架模型**
        - 侧重整体结构，针对特定问题
    - **动态模型**
        - 描述系统行为、重配置或演化
    - **过程模型**
        - 构造系统的步骤和过程
    - **"4+1" 视图模型 (Philippe Kruchten)**
        - 逻辑视图 (Logical)
        - 过程视图 (Process)
        - 物理视图 (Physical)
        - 开发视图 (Development)
        - 场景视图 (Scenarios) - 串联其他四个视图

### 1.1.3 软件架构的应用场景
- **管道-过滤器**: 独立步骤处理
- **主程序/子系统 & OO**: 组件内部设计
- **虚拟机**: 解释器、专家系统
- **C/S & B/S**: 分布式数据和处理
- **平台/插件**: 可扩展应用
- **MVC**: 用户交互程序
- **SOA**: 企业集成
- **C2**: GUI软件
- **混合风格**: 现代大型软件通常混合使用多种风格

### 1.1.4 软件架构的发展未来
- **主要趋势**
    - 模块化编程 -> 面向对象 -> 构件技术 -> SOA -> 云技术
    - 新技术融合: 微服务、数据驱动、智能架构
    - 无服务器计算 (Serverless)

## 1.2 系统架构设计师概述
### 1.2.1 架构设计师的定义、职责和任务
- **定义**
    - 负责系统架构的人、团队或组织
    - 系统/产品线的设计责任人
    - 负责非功能性需求、核心构架、关键构件和接口设计
- **职责**
    - **技术领导**: 拥有技术决策权威，树立榜样，指导团队
    - **拥有专门技能**: 开发平台/语言/工具大师，了解开发团队
    - **关注结果**: 赋予技术驱动力，确保决策被执行
- **任务**
    - 领导与协调技术活动
    - 推动技术决策并架构化
    - 确定架构并文档化
    - 三大技术任务: 抽象设计、非功能设计、关键技术设计

### 1.2.2 架构设计师应具备的专业素质
1.  **掌握业务领域的知识**: 理解业务模型，预见变化
2.  **掌握技术知识**: 关注重要因素而非细节，跟上技术发展
3.  **掌握设计技能**: 核心内容，多年经验积累
4.  **具备编程技能**: 与开发人员沟通，跟上技术，参与部分开发
5.  **具备沟通能力**: 最重要的软技能，口头+书面，对内+对外
6.  **具备决策能力**: 在不确定和时间紧迫下做决策，并能纠错
7.  **知道组织策略**: 政治敏感，利用组织资源
8.  **应是谈判专家**: 降低风险，达成共识

### 1.2.3 架构设计师的知识结构 (10个方面)
- 战略规划能力
- 业务流程建模能力
- 信息数据架构能力
- 技术架构设计和实现能力
- 应用系统架构的解决和实现能力
- 基础IT知识及基础设施能力
- 信息安全技术支持与管理能力
- IT审计、治理与需求分析能力
- 质量保障服务能力 (可靠性、生命周期)
- 新技术理解与分析能力

## 1.3 如何成为一名好的系统架构设计师
### 1.3.1 如何衡量一名优秀架构设计师 (6种角色特质)
1.  **作为技术领导者**: 导师，通过愿景指引，以人为本
2.  **作为开发人员**: 权衡理想与现实，避免“象牙塔”，亲近代码
3.  **聚焦系统**: 关注全方位质量属性 (部署、测试、性能、安全等)
4.  **具备企业家思维**: 考虑成本/收益，承担风险，不盲目跟风
5.  **权衡策略思维与战术思维**: 敏捷与一致性的平衡，建立技术雷达
6.  **良好的沟通**: 使用对方听得懂的语言 (风险、回报)，建立信任

### 1.3.2 从工程师到系统架构设计师的演化
- **演化路径**
    1.  **工程师 (1-3年)**: 在指导下开发，积累基础技能 (How)
    2.  **高级工程师 (3-5年)**: 独立开发，积累方案设计经验，知其然知其所以然 (Why)，掌握理论
    3.  **技术专家 (4-8年)**: 领域专家，拓展技术宽度，优化/扩展架构
    4.  **初级架构设计师 (5-8年)**: 独立完成系统架构 (0->1, 1->2)，形成方法论
    5.  **中级架构设计师 (8-10年+)**: 复杂系统设计 (高性能/高可用/海量)，技术深度与理论积累
    6.  **高级架构设计师 (10年+)**: 创造新的架构模式 (如MapReduce, Docker)
- **核心原则**
    - 积累经验、拓宽视野、深度思考
    - 培养判断力、执行力、创新力
    - "10000小时定律": 持续投入与练习
