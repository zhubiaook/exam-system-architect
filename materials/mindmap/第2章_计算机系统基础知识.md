# 第2章 计算机系统基础知识

- **2.1 计算机系统概述**
  - **定义**
    - 由计算机硬件、软件及网络组成的系统
    - 用于数据管理：接收、存储、处理、计算、输出
  - **组成**
    - **硬件**
      - 物理实体：机械、电子元器件、磁/光介质
      - 核心部件：处理器（运算单元+控制单元）、存储器、输入设备、输出设备
    - **软件**
      - 数据和指令的集合
      - 分类：系统软件（支撑运行/开发）、应用软件（专门应用目的）
  - **分类**
    - 个人计算机（台式、平板）
    - 通用计算机（服务器、云计算、超级计算机）
    - 嵌入式计算机（医疗、交通、国防、金融、家电、穿戴、电信等）

- **2.2 计算机硬件**
  - **2.2.1 计算机硬件组成**
    - **冯·诺依曼结构**：运算器、控制器、存储器、输入设备、输出设备
    - **现代结构**：处理器（运算+控制）、存储器、总线、接口、外部设备
  - **2.2.2 处理器 (CPU)**
    - **演化**：位宽（4-64位）、集成度（缓存/总线/接口）、内核（单核/多核/异构/众核）
    - **指令集分类**
      - CISC（复杂指令集）：x86 (Intel, AMD)
      - RISC（精简指令集）：ARM, Power, MIPS (发展趋势)
    - **组成**：指令部件、运算部件、寄存器组、存取部件、完成部件、Cache、MMU
    - **专用处理器**
      - GPU（图形处理器）：并行计算，适用于深度学习
      - DSP（数字信号处理器）：实时数字信号处理
      - FPGA（现场可编程门阵列）：硬件可重构
    - **国产处理器**：龙芯、飞腾、申威、兆芯、海光、宏芯等
  - **2.2.3 存储器**
    - **介质类型**：SRAM, DRAM, NVRAM, Flash, EPROM, Disk
    - **层次结构 (Memory Hierarchy)**
      - **片上缓存 (On-chip Cache)**：集成在CPU内，SRAM，速度最快，L1/L2
      - **片外缓存 (Off-chip Cache)**：板级或L3，SRAM
      - **主存 (Main Memory)**：DRAM，通过总线连接，数据需刷新
      - **外存 (External Memory)**：磁盘、Flash、光盘、磁带；速度慢、容量大、非易失
  - **2.2.4 总线 (Bus)**
    - **定义**：部件间数据交换的特定协议和形式
    - **分类**
      - **内总线**：芯片内部互连 (On-Chip Bus)
      - **系统总线**：CPU、主存、I/O之间
      - **外部总线**：设备间或系统间通信 (通信总线)
    - **常见总线**
      - 并行：PCI, PCIe, ATA(IDE)
      - 串行：USB, SATA, CAN, RS-232, RS-485, RapidIO, Ethernet
      - 专用：航空 (ARINC429, 1553B), 工控 (VME)
  - **2.2.5 接口**
    - **定义**：功能层间的通信规则
    - **类型**
      - 显示：HDMI, DVI, VGA
      - 音频：TRS, RCA, XLR
      - 网络：RJ45, FC
      - 其他：PS/2, USB, SATA, LPT, RS-232
  - **2.2.6 外部设备**
    - 输入：键盘、鼠标、扫描仪、摄像头、麦克风、传感器
    - 输出：显示器、打印机、音箱、控制装置
    - 移动/穿戴：加速计、GPS、陀螺仪
    - 专用：工控、航空、医疗设备

- **2.3 计算机软件**
  - **2.3.1 概述**
    - **定义**：程序 + 文档 + 数据
    - **分类**：系统软件（OS、编译、DBMS、网络软件）、应用软件（通用/专用）
  - **2.3.2 操作系统 (OS)**
    - **作用**：资源管理（处理器/存储/文件/设备）、人机界面（GUI）、应用开发平台（屏蔽硬件细节）
    - **组成**：内核（进程/存储/文件/设备管理）、配套软件（GUI/工具/库）
    - **特征**：并发性、共享性（互斥/同时）、虚拟性、不确定性
    - **分类**
      - 批处理（单道/多道）：资源利用率高，无交互
      - 分时：多路、独立、交互、及时
      - 实时：控制/信息处理，高可靠，响应够快
      - 网络OS：资源共享，通信，服务
      - 分布式OS：透明性，无主次，协同
      - 嵌入式OS：微型化、可定制、实时、可靠、易移植 (HAL/BSP)
  - **2.3.3 数据库**
    - **类型**：关系型、键值、列存储、文档、搜索引擎
    - **关系数据库**
      - 模型：二维表，实体+联系
      - 设计步骤：需求分析 -> 概念结构(E-R) -> 逻辑结构 -> 物理结构 -> 应用程序设计 -> 运行维护
    - **分布式数据库 (DDBS)**
      - 特点：集中控制、独立性、冗余可控、场地自治、存取有效
      - 体系结构：全局外层、全局概念层、局部概念层、局部内层
    - **常用 DBMS**：Oracle, DB2 (IBM), Sybase, SQL Server (Microsoft), MySQL
    - **大型 DBMS 特点**：支持网络/大规模应用、自动锁、高安全、备份恢复/容错、完整性、分布式
  - **2.3.4 文件系统**
    - **文件**：一组相关信息项的集合（文件体+说明）
    - **功能**：按名存取、统一接口、并发控制、安全、优化、差错恢复
    - **逻辑结构**：记录式（定长/变长）、流式（无结构字节流）
    - **物理结构**：连续结构、链接结构（串联）、索引结构
    - **存储空间管理**：空闲区表、位示图 (Bitmap)、空闲块链、成组链接法
    - **共享**：硬链接（索引结点）、符号链接（路径映射）
    - **保护**：存取控制矩阵、存取控制表 (ACL)、用户权限表、密码
  - **2.3.5 网络协议**
    - **定义**：通信规则（语法、语义、时序）
    - **类型**：LAN, WAN, 无线, 移动, TCP/IP协议簇
  - **2.3.6 中间件 (Middleware)**
    - **定义**：应用与OS之间的软件，标准化接口，承上启下
    - **分类**
      - 通信处理（消息）：MQSeries
      - 事务处理（交易）：Tuxedo, 处理OLTP
      - 数据存取：数据库访问
      - Web服务器：增强Web功能
      - 安全：防火墙、加密、认证
      - 跨平台/架构：CORBA, COM+, JavaBeans
      - 专用平台：特定领域
      - 网络：网管、接入
    - **典型产品**：IBM MQSeries (消息, 异步), BEA Tuxedo (交易, 高并发)
  - **2.3.7 软件构件**
    - **定义**：自包容、可复用的程序集，通过接口访问
    - **组装模型**：需求 -> 设计组装 -> 建立构件库 -> 构建应用 -> 测试发布
    - **标准规范**
      - **CORBA** (OMG)：ORB (软总线), 公共服务, 公共设施; CCM (抽象模型, 容器, 打包)
      - **J2EE** (Sun/Java)
      - **DNA** (Microsoft/COM+)

- **2.4 嵌入式系统及软件**
  - **定义**：以应用为中心，计算机为基础，软硬可裁减，专用系统
  - **组成**
    - 嵌入式处理器（抗恶劣环境，低功耗）
    - 相关支撑硬件（存储器、I/O、总线）
    - 嵌入式操作系统（EOS）
    - 支撑软件
    - 应用软件
  - **特点**
    - 专用性强
    - 技术融合（计算机/通信/电子）
    - 软硬一体，软件为主
    - 资源受限（成本/功耗）
    - 代码固化
    - 需专用开发环境（宿主机-目标机）
    - 实时性、可靠性、安全性要求高
  - **分类**
    - 按实时性：实时（强/弱）、非实时
    - 按安全性：安全攸关（Life-Critical）、非安全攸关
  - **软件体系架构** (5层)
    - **硬件层**：微处理器、存储、I/O
    - **抽象层**：HAL (硬件抽象), BSP (板级支持包)
    - **操作系统层**：Kernel, 文件, 网络, GUI
    - **中间件层**：DB, Graphics, Java, CORBA/DDS
    - **应用层**：业务软件
  - **区别**：可剪裁、可配置、强实时、高可靠、高确定性
  - **安全攸关软件 (Safety-Critical)**
    - 定义：失效导致严重后果（伤亡/损失）
    - **DO-178B 标准** (机载系统软件)
      - 目标：A-E 5个安全等级
      - 过程：计划、开发（需求/设计/编码/集成）、综合（验证/配置/QA/审定）
      - 与 CMMI 区别：DO-178 关注适航/安全性/项目，CMMI 关注过程改进/组织能力
    - 设计方法：容错、余度、鲁棒性、分区、形式化验证

- **2.5 计算机网络**
  - **2.5.1 概述**
    - **发展**：诞生（联机）、形成（ARPANET）、互联互通（TCP/IP, OSI）、高速（Internet, 光纤）
    - **功能**：数据通信、资源共享、管理集中化、分布式处理、负荷均衡
    - **性能指标**：速率、带宽、吞吐量、时延、RTT、利用率
    - **非性能指标**：费用、质量、可靠性、扩展性、维护性
  - **2.5.2 通信技术**
    - **信道**：物理（有线/无线）、逻辑；香农公式 (容量与带宽/信噪比关系)
    - **信号变换**
      - 发送：信源编码(压缩) -> 信道编码(纠错/冗余) ->交织 -> 脉冲 -> 调制
    - **复用技术**：TDM, FDM, CDM (一条信道传多路)
    - **多址技术**：TDMA, FDMA, CDMA (一条线传多用户)
    - **5G 特征**：OFDM优化, 毫米波, 大规模MIMO, 灵活框架, 20Gb/s, 低时延(1ms)
  - **2.5.3 网络技术**
    - **局域网 (LAN)**
      - 拓扑：星状（中心故障全网瘫）、树状、总线、环形、网状（可靠但昂贵）
      - **以太网 (Ethernet)**：IEEE 802.3, 帧结构, CSMA/CD, 最小帧长(64B)
      - **无线局域网 (WLAN)**：IEEE 802.11 (a/b/g/n), 拓扑 (点对点, HUB, 完全分布)
    - **广域网 (WAN)**
      - 技术：SONET/SDH, DDN (专线), 帧中继 (FR), ATM (信元交换)
    - **城域网 (MAN)**：DQDB (IEEE 802.6), 层次: 核心/汇聚/接入
    - **移动通信网**
      - 发展：1G(模拟), 2G(数字), 3G(数据), 4G(宽带), 5G(智能/万物互联)
      - **5G架构**：SBA (服务化架构), 切片技术 (eMBB, mMTC, uRLLC)
  - **2.5.4 组网技术**
    - **设备**
      - 集线器 (Hub)：物理层，由于冲突域，广播
      - 中继器：物理层，信号再生
      - 网桥：数据链路层，连接同构网
      - 交换机 (Switch)：数据链路层，独享带宽，隔离冲突域
      - 路由器 (Router)：网络层，异构互连，寻址转发，隔离广播域
      - 防火墙：安全屏障
    - **协议体系**
      - **OSI/RM (7层)**：物理、数据链路、网络、传输、会话、表示、应用
      - **TCP/IP (4层)**：网络接口、网际 (IP/ICMP/ARP)、传输 (TCP/UDP)、应用 (FTP/HTTP/SMTP)
    - **交换技术**：地址学习，转发，泛洪，STP (防环)
    - **路由技术**：路由表，静态/动态；IGP (RIP, OSPF, IS-IS), EGP (BGP)
  - **2.5.5 网络工程**
    - **规划**：需求分析，可行性
    - **设计**：总体目标，拓扑，选型，安全
    - **实施**：采购，安装，调试，验收

- **2.6 计算机语言**
  - **2.6.1 组成**：表达式、流程控制、集合
  - **2.6.2 分类**
    - **机器语言**：二进制，直接执行，难懂，不可移植
    - **汇编语言**：助记符，面向机器，效率高
    - **高级语言**：面向过程/对象，可移植 (C, C++, Java, Python, C#等)
    - **建模语言 (UML)**
      - 统一建模语言 (Unified Modeling Language)
      - **组成**：基本构造块 (事物, 关系), 图, 公用机制
      - **4种事物**：结构 (类/接口/用例等), 行为 (交互/状态机), 分组 (包), 注释
      - **4种关系**：依赖, 关联 (聚集/组合), 泛化 (继承), 实现
      - **5种视图**：用例视图 (中心), 逻辑视图, 进程视图, 实现视图, 部署视图
      - **13种图**：用例图, 类图, 对象图, 序列图, 状态图, 活动图, 构件图, 部署图等
    - **形式化语言**
      - 目的：精确描述，数学验证
      - 分类：模型描述 (Z, VDM, B), 性质描述 (Larch), 进程代数 (CSP, CCS)
      - **Z语言**：状态-操作风格，基于集合论和一阶谓词逻辑

- **2.7 多媒体**
  - **2.7.1 概述**
    - **媒体类型**：感觉 (视觉/听觉), 表示 (编码), 表现 (输入/输出设备), 存储, 传输
    - **特征**：多维化、集成性、交互性、实时性
    - **系统组成**：硬件 (MPC, 卡, 外设), 软件 (驱动, OS, 工具, 应用)
  - **2.7.2 关键技术**
    - **视音频**：数字化 (采样/量化), 编码
    - **数据压缩**：有损 (JPEG, MPEG, MP3), 无损 (RLE, WAV, ZIP)
      - 标准：JPEG (静态), MPEG (动态), H.26x (视讯)
    - **虚拟现实 (VR)**：沉浸式，计算机模拟环境
    - **增强现实 (AR)**：虚拟叠加到现实，虚实结合
      - 技术：图形图像, 空间定位, 人文智能
      - 分类：桌面, 分布, 沉浸, 增强

- **2.8 系统工程**
  - **2.8.1 概述**
    - 组织管理技术，整体最优，跨学科
    - **SoS (System of Systems)**：系统之系统，大规模跨学科，如GPS+航空
  - **2.8.2 方法**
    - **霍尔三维结构** (Hard System)：时间维、逻辑维、知识维
    - **切克兰德方法** (Soft System)：比较与探寻，适合社会/软系统
    - **并行工程**：全生命周期协同，缩短周期，提高质量
    - **综合集成法** (钱学森)：从定性到定量，处理开放复杂巨系统，专家+数据+计算机
    - **WSR系统方法**：物理(Wuli)-事理(Shili)-人理(Renli)，“懂物理、明事理、通人理”
  - **2.8.3 生命周期**
    - **阶段**：探索 -> 概念 -> 开发 -> 生产 -> 使用 -> 保障 -> 退役
    - **方法**：计划驱动 (瀑布), 渐进迭代 (IID), 精益 (Lean, 消除浪费), 敏捷 (Agile, 灵活响应)
  - **2.8.4 基于模型的系统工程 (MBSE)**
    - 定义：形式化建模贯穿全周期
    - **三大支柱**：
      - **建模语言**：SysML (基于UML)
      - **建模工具**：支持画图、存储、通过数据交换
      - **建模思路**：Harmony-SE, OOSEM等

- **2.9 系统性能**
  - **2.9.1 性能指标**
    - **计算机**：主频, 运算速度, 内存, 吞吐率, RASIS (可靠/可用/可维护/完整/安全)
    - **网络**：吞吐量, 丢包率, 时延, 抖动
    - **操作系统**：系统上下文切换, 响应时间
    - **数据库**：最大连接数, 并发事务, 索引数
    - **Web服务器**：最大并发连接数, 响应延迟, 吞吐量
  - **2.9.2 性能计算**
    - MIPS (百万指令/秒)
    - 峰值计算
    - 等效指令速度 (Gibson法)
  - **2.9.3 性能设计**
    - **阿姆达尔 (Amdahl) 定律**：加速比取决于增强部件的使用频率/比例
      - $S = 1 / ((1-a) + a/k)$  (a: 比例, k: 加速倍数)
    - 性能调整：消除瓶颈
  - **2.9.4 性能评估**
    - **基准测试 (Benchmark)**：
      - 真实程序 > 核心程序 > 小型基准 > 合成基准 (Dhrystone, Linpack, SPEC, TPC)
